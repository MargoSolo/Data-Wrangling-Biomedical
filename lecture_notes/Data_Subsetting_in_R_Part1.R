## ---- echo = FALSE----------------------------------------------------------------
library(knitr)
opts_chunk$set(comment = "")
suppressPackageStartupMessages(library(dplyr))
library(dplyr)
library(ggplot2)


## ---------------------------------------------------------------------------------
head(diamonds$carat)


## ---------------------------------------------------------------------------------
select(diamonds, carat)


## ---------------------------------------------------------------------------------
select(diamonds, carat, depth)


## ---------------------------------------------------------------------------------
head(pull(select(diamonds, carat)))


## ---------------------------------------------------------------------------------
diamonds %>% select(carat) %>% pull() %>% head()


## ---- eval = FALSE----------------------------------------------------------------
## ??tidyselect::select_helpers


## ---- eval = FALSE----------------------------------------------------------------
## one_of()
## last_col()
## ends_with()
## contains() # like searching
## matches() # Matches a regular expression - cover later


## ---------------------------------------------------------------------------------
diamonds %>% select(starts_with("c"))


## ---------------------------------------------------------------------------------
diamonds %>% select(ends_with("e"))


## ---------------------------------------------------------------------------------
filter(diamonds, depth > 60)


## ---------------------------------------------------------------------------------
diamonds %>% filter(depth > 60)


## ---------------------------------------------------------------------------------
diamonds %>% filter(depth > 60, table > 60, price > 2775)


## ---------------------------------------------------------------------------------
diamonds %>% filter(color == "I", 
            clarity == "SI2", cut == "Premium")


## ---------------------------------------------------------------------------------
diamonds %>% filter(clarity %in% c("SI1", "SI2"))


## ---------------------------------------------------------------------------------
diamonds %>% filter(clarity %in% c("SI1", "SI2"),
                    cut == "Premium", price > 3000)


## ---------------------------------------------------------------------------------
diamonds %>% filter(depth > 60 & table > 60 & price > 2775)


## ---------------------------------------------------------------------------------
diamonds %>% filter(depth > 60 | table > 60 | price > 2775)


## ---------------------------------------------------------------------------------
diamonds %>% filter(clarity =="SI1" | clarity == "SI2")


## ---------------------------------------------------------------------------------
diamonds %>% 
  filter(clarity == "SI2") %>% 
  select(starts_with("c"))


## ----eval=FALSE-------------------------------------------------------------------
## diamonds %>%
##   select(starts_with("c") %>%
##   filter(table > 60))

